(function() {
  var BreakPointPane, ConsolePane, LeftSidePane, RightSidePane, StepButton, breakpointPanel, callstackPaneModule, cancelButton, consolePaneModule, dragHandler, h, hg, logger, stepButton;

  hg = require('mercury');

  h = hg.h;

  stepButton = require('./StepButton');

  breakpointPanel = require('./BreakPointPane');

  callstackPaneModule = require('./CallStackPane');

  consolePaneModule = require('./ConsolePane');

  cancelButton = require('./CancelButton');

  dragHandler = require('./drag-handler');

  logger = require('../logger');

  StepButton = null;

  BreakPointPane = null;

  ConsolePane = null;

  LeftSidePane = function(ConsolePane, state) {
    return h('div', {
      style: {
        display: 'flex',
        flex: 'auto',
        flexDirection: 'column'
      }
    }, [ConsolePane.render(state.logger)]);
  };

  RightSidePane = function(BreakPointPane, CallStackPane, LocalsPane, WatchPane, StepButton, state) {
    return h('div', {
      style: {
        display: 'flex',
        flex: 1,
        width: (state.collapsed ? 0 : state.sideWidth) + "px",
        flexDirection: 'row'
      }
    }, [
      h('div.inset-panel', {
        style: {
          flexDirection: 'column',
          display: 'flex',
          flex: 'auto'
        }
      }, [
        h('div.debugger-panel-heading', {
          style: {
            'flex-shrink': 0
          }
        }, [h('div.btn-group', {}, [StepButton.render(state.steps.stepContinue), StepButton.render(state.steps.stepNext), StepButton.render(state.steps.stepIn), StepButton.render(state.steps.stepOut), cancelButton.render(state.cancel)])]), h('div.panel-body', {
          style: {
            flex: 'auto',
            display: 'list-item',
            overflow: 'auto'
          }
        }, [
          h('div.scroll-view', {
            style: {
              'height': '100vh'
            }
          }, [BreakPointPane.render(state.breakpoints), CallStackPane.render(state.callstack), LocalsPane.render(state.locals), WatchPane.render(state.watch)])
        ])
      ])
    ]);
  };

  exports.startBottom = function(root, _debugger) {
    var App, app, changeHeight, toggleCollapsed;
    ConsolePane = consolePaneModule.create(_debugger);
    changeHeight = function(state, data) {
      return state.height.set(data.height);
    };
    toggleCollapsed = function(state, data) {
      return state.collapsed.set(!state.collapsed());
    };
    App = function() {
      var define;
      define = {
        height: hg.value(350),
        collapsed: hg.value(false),
        channels: {
          changeHeight: changeHeight,
          toggleCollapsed: toggleCollapsed
        },
        logger: ConsolePane()
      };
      return hg.state(define);
    };
    App.render = function(state) {
      return h('div', {
        style: {
          display: 'flex',
          flex: 'auto',
          flexDirection: 'column',
          position: 'relative',
          height: (state.collapsed ? 10 : state.height) + "px"
        }
      }, [
        h('div.resizer', {
          style: {
            cursor: state.collapsed ? '' : 'ns-resize',
            display: 'flex',
            'flex-direction': 'column'
          },
          'ev-mousedown': !state.collapsed ? dragHandler(state.channels.changeHeight, {}) : void 0
        }, [
          h('div', {
            style: {
              'align-self': 'center',
              cursor: 'pointer',
              'margin-top': '-4px',
              'margin-bottom': '-2px'
            },
            'ev-click': hg.send(state.channels.toggleCollapsed),
            className: state.collapsed ? 'icon-triangle-up' : 'icon-triangle-down'
          }, [])
        ]), h('div', {
          style: {
            display: 'flex',
            flex: 'auto',
            flexDirection: 'row'
          }
        }, [LeftSidePane(ConsolePane, state)])
      ]);
    };
    app = App();
    hg.app(root, app, App.render);
    return app;
  };

  exports.startRight = function(root, _debugger) {
    var App, CallStackPane, LocalsPane, WatchPane, app, changeWidth, ref, toggleCollapsed;
    StepButton = stepButton.StepButton(_debugger);
    BreakPointPane = breakpointPanel.create(_debugger);
    ref = callstackPaneModule.create(_debugger), CallStackPane = ref.CallStackPane, LocalsPane = ref.LocalsPane, WatchPane = ref.WatchPane;
    changeWidth = function(state, data) {
      return state.sideWidth.set(data.sideWidth);
    };
    toggleCollapsed = function(state, data) {
      return state.collapsed.set(!state.collapsed());
    };
    App = function() {
      var define, stepContinue, stepIn, stepNext, stepOut;
      stepContinue = StepButton('continue', 'continue');
      stepIn = StepButton('step in', 'in');
      stepOut = StepButton('step out', 'out');
      stepNext = StepButton('step next', 'next');
      define = {
        sideWidth: hg.value(400),
        collapsed: hg.value(false),
        channels: {
          changeWidth: changeWidth,
          toggleCollapsed: toggleCollapsed
        },
        steps: {
          stepIn: stepIn,
          stepOut: stepOut,
          stepNext: stepNext,
          stepContinue: stepContinue
        },
        breakpoints: BreakPointPane(),
        callstack: CallStackPane(),
        watch: WatchPane(),
        locals: LocalsPane(),
        cancel: cancelButton.create(_debugger)
      };
      return hg.state(define);
    };
    App.render = function(state) {
      return h('div', {
        style: {
          display: 'flex',
          flexDirection: 'row',
          'justify-content': 'center'
        }
      }, [
        h('div.resizer', {
          style: {
            display: 'flex',
            cursor: state.collapsed ? '' : 'ew-resize'
          },
          'ev-mousedown': !state.collapsed ? dragHandler(state.channels.changeWidth, {}) : void 0
        }, [
          h('div', {
            style: {
              'align-self': 'center',
              cursor: 'pointer',
              'margin-left': '0px',
              'margin-right': '-4px'
            },
            'ev-click': hg.send(state.channels.toggleCollapsed),
            className: state.collapsed ? 'icon-triangle-left' : 'icon-triangle-right'
          }, [])
        ]), RightSidePane(BreakPointPane, CallStackPane, LocalsPane, WatchPane, StepButton, state)
      ]);
    };
    app = App();
    hg.app(root, app, App.render);
    return app;
  };

  exports.stop = function() {
    BreakPointPane.cleanup();
    callstackPaneModule.cleanup();
    return ConsolePane.cleanup();
  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUva2ltdXJhLy5hdG9tL3BhY2thZ2VzL25vZGUtZGVidWdnZXIvbGliL0NvbXBvbmVudHMvQXBwLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQUE7O0VBQUEsRUFBQSxHQUFLLE9BQUEsQ0FBUSxTQUFSOztFQUNMLENBQUEsR0FBSSxFQUFFLENBQUM7O0VBRVAsVUFBQSxHQUFhLE9BQUEsQ0FBUSxjQUFSOztFQUNiLGVBQUEsR0FBa0IsT0FBQSxDQUFRLGtCQUFSOztFQUNsQixtQkFBQSxHQUFzQixPQUFBLENBQVEsaUJBQVI7O0VBQ3RCLGlCQUFBLEdBQW9CLE9BQUEsQ0FBUSxlQUFSOztFQUNwQixZQUFBLEdBQWUsT0FBQSxDQUFRLGdCQUFSOztFQUNmLFdBQUEsR0FBYyxPQUFBLENBQVEsZ0JBQVI7O0VBQ2QsTUFBQSxHQUFTLE9BQUEsQ0FBUSxXQUFSOztFQUVULFVBQUEsR0FBYTs7RUFDYixjQUFBLEdBQWlCOztFQUNqQixXQUFBLEdBQWM7O0VBRWQsWUFBQSxHQUFlLFNBQUMsV0FBRCxFQUFjLEtBQWQ7V0FDYixDQUFBLENBQUUsS0FBRixFQUFTO01BQ1AsS0FBQSxFQUFPO1FBQ0wsT0FBQSxFQUFTLE1BREo7UUFFTCxJQUFBLEVBQU0sTUFGRDtRQUdMLGFBQUEsRUFBZSxRQUhWO09BREE7S0FBVCxFQU1HLENBQ0QsV0FBVyxDQUFDLE1BQVosQ0FBbUIsS0FBSyxDQUFDLE1BQXpCLENBREMsQ0FOSDtFQURhOztFQVdmLGFBQUEsR0FBZ0IsU0FBQyxjQUFELEVBQWlCLGFBQWpCLEVBQWdDLFVBQWhDLEVBQTRDLFNBQTVDLEVBQXVELFVBQXZELEVBQW1FLEtBQW5FO1dBQ2QsQ0FBQSxDQUFFLEtBQUYsRUFBUztNQUNQLEtBQUEsRUFBTztRQUNMLE9BQUEsRUFBUyxNQURKO1FBRUwsSUFBQSxFQUFNLENBRkQ7UUFHTCxLQUFBLEVBQVMsQ0FBSSxLQUFLLENBQUMs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QixFQUE2QyxVQUE3QyxFQUF5RCxTQUF6RCxFQUFvRSxVQUFwRSxFQUFnRixLQUFoRixDQW5CQztPQU5IO0lBRFc7SUE2QmIsR0FBQSxHQUFNLEdBQUEsQ0FBQTtJQUNOLEVBQUUsQ0FBQyxHQUFILENBQU8sSUFBUCxFQUFhLEdBQWIsRUFBa0IsR0FBRyxDQUFDLE1BQXRCO1dBQ0E7RUFyRW1COztFQXVFckIsT0FBTyxDQUFDLElBQVIsR0FBZSxTQUFBO0lBQ2IsY0FBYyxDQUFDLE9BQWYsQ0FBQTtJQUNBLG1CQUFtQixDQUFDLE9BQXBCLENBQUE7V0FDQSxXQUFXLENBQUMsT0FBWixDQUFBO0VBSGE7QUFwTmYiLCJzb3VyY2VzQ29udGVudCI6WyJoZyA9IHJlcXVpcmUgJ21lcmN1cnknXG5oID0gaGcuaFxuXG5zdGVwQnV0dG9uID0gcmVxdWlyZSAnLi9TdGVwQnV0dG9uJ1xuYnJlYWtwb2ludFBhbmVsID0gcmVxdWlyZSAnLi9CcmVha1BvaW50UGFuZSdcbmNhbGxzdGFja1BhbmVNb2R1bGUgPSByZXF1aXJlICcuL0NhbGxTdGFja1BhbmUnXG5jb25zb2xlUGFuZU1vZHVsZSA9IHJlcXVpcmUgJy4vQ29uc29sZVBhbmUnXG5jYW5jZWxCdXR0b24gPSByZXF1aXJlICcuL0NhbmNlbEJ1dHRvbidcbmRyYWdIYW5kbGVyID0gcmVxdWlyZSAnLi9kcmFnLWhhbmRsZXInXG5sb2dnZXIgPSByZXF1aXJlICcuLi9sb2dnZXInXG5cblN0ZXBCdXR0b24gPSBudWxsXG5CcmVha1BvaW50UGFuZSA9IG51bGxcbkNvbnNvbGVQYW5lID0gbnVsbFxuXG5MZWZ0U2lkZVBhbmUgPSAoQ29uc29sZVBhbmUsIHN0YXRlKSAtPlxuICBoKCdkaXYnLCB7XG4gICAgc3R5bGU6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4J1xuICAgICAgZmxleDogJ2F1dG8nXG4gICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJ1xuICAgIH1cbiAgfSwgW1xuICAgIENvbnNvbGVQYW5lLnJlbmRlcihzdGF0ZS5sb2dnZXIpXG4gIF0pXG5cblJpZ2h0U2lkZVBhbmUgPSAoQnJlYWtQb2ludFBhbmUsIENhbGxTdGFja1BhbmUsIExvY2Fsc1BhbmUsIFdhdGNoUGFuZSwgU3RlcEJ1dHRvbiwgc3RhdGUpIC0+XG4gIGgoJ2RpdicsIHtcbiAgICBzdHlsZToge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnXG4gICAgICBmbGV4OiAxXG4gICAgICB3aWR0aDogXCIje2lmIHN0YXRlLmNvbGxhcHNlZCB0aGVuIDAgZWxzZSBzdGF0ZS5zaWRlV2lkdGh9cHhcIlxuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdydcbiAgICB9XG4gIH0sIFtcbiAgICBoKCdkaXYuaW5zZXQtcGFuZWwnLCB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJ1xuICAgICAgICBkaXNwbGF5OiAnZmxleCdcbiAgICAgICAgZmxleDogJ2F1dG8nXG4gICAgICB9XG4gICAgfSwgW1xuICAgICAgaCgnZGl2LmRlYnVnZ2VyLXBhbmVsLWhlYWRpbmcnLCB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgJ2ZsZXgtc2hyaW5rJzogMFxuICAgICAgICB9XG4gICAgICB9LCBbXG4gICAgICAgIGgoJ2Rpdi5idG4tZ3JvdXAnLCB7fSwgW1xuICAgICAgICAgIFN0ZXBCdXR0b24ucmVuZGVyKHN0YXRlLnN0ZXBzLnN0ZXBDb250aW51ZSlcbiAgICAgICAgICBTdGVwQnV0dG9uLnJlbmRlcihzdGF0ZS5zdGVwcy5zdGVwTmV4dClcbiAgICAgICAgICBTdGVwQnV0dG9uLnJlbmRlcihzdGF0ZS5zdGVwcy5zdGVwSW4pXG4gICAgICAgICAgU3RlcEJ1dHRvbi5yZW5kZXIoc3RhdGUuc3RlcHMuc3RlcE91dClcbiAgICAgICAgICBjYW5jZWxCdXR0b24ucmVuZGVyKHN0YXRlLmNhbmNlbClcbiAgICAgICAgXSlcbiAgICAgIF0pXG4gICAgICBoKCdkaXYucGFuZWwtYm9keScsIHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBmbGV4OiAnYXV0bydcbiAgICAgICAgICBkaXNwbGF5OiAnbGlzdC1pdGVtJ1xuICAgICAgICAgIG92ZXJmbG93OiAnYXV0byc7XG4gICAgICAgIH1cbiAgICAgIH0sIFtcbiAgICAgICAgaCgnZGl2LnNjcm9sbC12aWV3Jywge1xuICAgICAgICAgIHN0eWxlOntcbiAgICAgICAgICAgICdoZWlnaHQnOiAnMTAwdmgnXG4gICAgICAgICAgfVxuICAgICAgICB9LCBbXG4gICAgICAgICAgQnJlYWtQb2ludFBhbmUucmVuZGVyKHN0YXRlLmJyZWFrcG9pbnRzKVxuICAgICAgICAgIENhbGxTdGFja1BhbmUucmVuZGVyKHN0YXRlLmNhbGxzdGFjaylcbiAgICAgICAgICBMb2NhbHNQYW5lLnJlbmRlcihzdGF0ZS5sb2NhbHMpXG4gICAgICAgICAgV2F0Y2hQYW5lLnJlbmRlcihzdGF0ZS53YXRjaClcbiAgICAgICAgXSlcbiAgICAgIF0pXG4gICAgXSlcbiAgXSlcblxuZXhwb3J0cy5zdGFydEJvdHRvbSA9IChyb290LCBfZGVidWdnZXIpIC0+XG4gIENvbnNvbGVQYW5lID0gY29uc29sZVBhbmVNb2R1bGUuY3JlYXRlKF9kZWJ1Z2dlcilcblxuICBjaGFuZ2VIZWlnaHQgPSAoc3RhdGUsIGRhdGEpIC0+XG4gICAgc3RhdGUuaGVpZ2h0LnNldChkYXRhLmhlaWdodClcblxuICB0b2dnbGVDb2xsYXBzZWQgPSAoc3RhdGUsIGRhdGEpIC0+XG4gICAgc3RhdGUuY29sbGFwc2VkLnNldCghc3RhdGUuY29sbGFwc2VkKCkpXG5cbiAgQXBwID0gLT5cbiAgICBkZWZpbmUgPSB7XG4gICAgICBoZWlnaHQ6IGhnLnZhbHVlIDM1MFxuICAgICAgY29sbGFwc2VkOiBoZy52YWx1ZSBmYWxzZVxuICAgICAgY2hhbm5lbHM6IHtcbiAgICAgICAgY2hhbmdlSGVpZ2h0OiBjaGFuZ2VIZWlnaHRcbiAgICAgICAgdG9nZ2xlQ29sbGFwc2VkOiB0b2dnbGVDb2xsYXBzZWRcbiAgICAgIH1cbiAgICAgIGxvZ2dlcjogQ29uc29sZVBhbmUoKVxuICAgIH1cbiAgICBoZy5zdGF0ZShkZWZpbmUpXG5cbiAgQXBwLnJlbmRlciA9IChzdGF0ZSkgLT5cbiAgICBoKCdkaXYnLCB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCdcbiAgICAgICAgZmxleDogJ2F1dG8nXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgICAgIGhlaWdodDogXCIje2lmIHN0YXRlLmNvbGxhcHNlZCB0aGVuIDEwIGVsc2Ugc3RhdGUuaGVpZ2h0fXB4XCJcbiAgICAgIH1cbiAgICB9LCBbXG4gICAgICBoKCdkaXYucmVzaXplcicsIHtcbiAgICAgICAgc3R5bGU6XG4gICAgICAgICAgY3Vyc29yOiBpZiBzdGF0ZS5jb2xsYXBzZWQgdGhlbiAnJyBlbHNlICducy1yZXNpemUnXG4gICAgICAgICAgZGlzcGxheTogJ2ZsZXgnXG4gICAgICAgICAgJ2ZsZXgtZGlyZWN0aW9uJzogJ2NvbHVtbidcbiAgICAgICAgJ2V2LW1vdXNlZG93bic6IHVubGVzcyBzdGF0ZS5jb2xsYXBzZWQgdGhlbiBkcmFnSGFuZGxlciBzdGF0ZS5jaGFubmVscy5jaGFuZ2VIZWlnaHQsIHt9XG4gICAgICB9LCBbXG4gICAgICAgIGgoJ2RpdicsIHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICdhbGlnbi1zZWxmJzogJ2NlbnRlcidcbiAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgICAgJ21hcmdpbi10b3AnOiAnLTRweCdcbiAgICAgICAgICAgICAgJ21hcmdpbi1ib3R0b20nOictMnB4J1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJ2V2LWNsaWNrJzogaGcuc2VuZCBzdGF0ZS5jaGFubmVscy50b2dnbGVDb2xsYXBzZWRcbiAgICAgICAgICAgIGNsYXNzTmFtZTogaWYgc3RhdGUuY29sbGFwc2VkIHRoZW4gJ2ljb24tdHJpYW5nbGUtdXAnIGVsc2UgJ2ljb24tdHJpYW5nbGUtZG93bidcbiAgICAgICAgICB9LCBbXG4gICAgICAgIF0pXG4gICAgICBdKVxuICAgICAgaCgnZGl2Jywge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4J1xuICAgICAgICAgIGZsZXg6ICdhdXRvJ1xuICAgICAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnXG4gICAgICAgIH1cbiAgICAgIH0sIFtcbiAgICAgICAgTGVmdFNpZGVQYW5lKENvbnNvbGVQYW5lLCBzdGF0ZSlcbiAgICAgIF0pXG4gICAgXSlcblxuICBhcHAgPSBBcHAoKVxuICBoZy5hcHAocm9vdCwgYXBwLCBBcHAucmVuZGVyKVxuICBhcHBcblxuZXhwb3J0cy5zdGFydFJpZ2h0ID0gKHJvb3QsIF9kZWJ1Z2dlcikgLT5cbiAgU3RlcEJ1dHRvbiA9IHN0ZXBCdXR0b24uU3RlcEJ1dHRvbihfZGVidWdnZXIpXG4gIEJyZWFrUG9pbnRQYW5lID0gYnJlYWtwb2ludFBhbmVsLmNyZWF0ZShfZGVidWdnZXIpXG4gIHtDYWxsU3RhY2tQYW5lLCBMb2NhbHNQYW5lLCBXYXRjaFBhbmV9ID0gY2FsbHN0YWNrUGFuZU1vZHVsZS5jcmVhdGUoX2RlYnVnZ2VyKVxuXG4gIGNoYW5nZVdpZHRoID0gKHN0YXRlLCBkYXRhKSAtPlxuICAgIHN0YXRlLnNpZGVXaWR0aC5zZXQoZGF0YS5zaWRlV2lkdGgpXG5cbiAgdG9nZ2xlQ29sbGFwc2VkID0gKHN0YXRlLCBkYXRhKSAtPlxuICAgIHN0YXRlLmNvbGxhcHNlZC5zZXQoIXN0YXRlLmNvbGxhcHNlZCgpKVxuXG4gIEFwcCA9IC0+XG4gICAgc3RlcENvbnRpbnVlID0gU3RlcEJ1dHRvbignY29udGludWUnLCAnY29udGludWUnKVxuICAgIHN0ZXBJbiA9IFN0ZXBCdXR0b24oJ3N0ZXAgaW4nLCAnaW4nKVxuICAgIHN0ZXBPdXQgPSBTdGVwQnV0dG9uKCdzdGVwIG91dCcsICdvdXQnKVxuICAgIHN0ZXBOZXh0ID0gU3RlcEJ1dHRvbignc3RlcCBuZXh0JywgJ25leHQnKVxuXG4gICAgZGVmaW5lID0ge1xuICAgICAgc2lkZVdpZHRoOiBoZy52YWx1ZSA0MDBcbiAgICAgIGNvbGxhcHNlZDogaGcudmFsdWUgZmFsc2VcbiAgICAgIGNoYW5uZWxzOiB7XG4gICAgICAgIGNoYW5nZVdpZHRoOiBjaGFuZ2VXaWR0aFxuICAgICAgICB0b2dnbGVDb2xsYXBzZWQ6IHRvZ2dsZUNvbGxhcHNlZFxuICAgICAgfVxuICAgICAgc3RlcHM6IHtcbiAgICAgICAgc3RlcEluOiBzdGVwSW5cbiAgICAgICAgc3RlcE91dDogc3RlcE91dFxuICAgICAgICBzdGVwTmV4dDogc3RlcE5leHRcbiAgICAgICAgc3RlcENvbnRpbnVlOiBzdGVwQ29udGludWVcbiAgICAgIH1cbiAgICAgIGJyZWFrcG9pbnRzOiBCcmVha1BvaW50UGFuZSgpXG4gICAgICBjYWxsc3RhY2s6IENhbGxTdGFja1BhbmUoKVxuICAgICAgd2F0Y2g6IFdhdGNoUGFuZSgpXG4gICAgICBsb2NhbHM6IExvY2Fsc1BhbmUoKVxuICAgICAgY2FuY2VsOiBjYW5jZWxCdXR0b24uY3JlYXRlKF9kZWJ1Z2dlcilcbiAgICB9XG4gICAgaGcuc3RhdGUoZGVmaW5lKVxuXG4gIEFwcC5yZW5kZXIgPSAoc3RhdGUpIC0+XG4gICAgaCgnZGl2Jywge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnXG4gICAgICAgICdqdXN0aWZ5LWNvbnRlbnQnOiAnY2VudGVyJ1xuICAgICAgfVxuICAgIH0sIFtcbiAgICAgIGgoJ2Rpdi5yZXNpemVyJywge1xuICAgICAgICBzdHlsZTpcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCdcbiAgICAgICAgICBjdXJzb3I6IGlmIHN0YXRlLmNvbGxhcHNlZCB0aGVuICcnIGVsc2UgJ2V3LXJlc2l6ZSdcbiAgICAgICAgJ2V2LW1vdXNlZG93bic6IHVubGVzcyBzdGF0ZS5jb2xsYXBzZWQgdGhlbiBkcmFnSGFuZGxlciBzdGF0ZS5jaGFubmVscy5jaGFuZ2VXaWR0aCwge31cbiAgICAgIH0sIFtcbiAgICAgICAgaCgnZGl2Jywge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgJ2FsaWduLXNlbGYnOiAnY2VudGVyJ1xuICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAnbWFyZ2luLWxlZnQnOiAnMHB4J1xuICAgICAgICAgICAgICAnbWFyZ2luLXJpZ2h0JzonLTRweCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICdldi1jbGljayc6IGhnLnNlbmQgc3RhdGUuY2hhbm5lbHMudG9nZ2xlQ29sbGFwc2VkXG4gICAgICAgICAgICBjbGFzc05hbWU6IGlmIHN0YXRlLmNvbGxhcHNlZCB0aGVuICdpY29uLXRyaWFuZ2xlLWxlZnQnIGVsc2UgJ2ljb24tdHJpYW5nbGUtcmlnaHQnXG4gICAgICAgICAgfSwgW1xuICAgICAgICBdKVxuICAgICAgXSlcbiAgICAgIFJpZ2h0U2lkZVBhbmUoQnJlYWtQb2ludFBhbmUsIENhbGxTdGFja1BhbmUsIExvY2Fsc1BhbmUsIFdhdGNoUGFuZSwgU3RlcEJ1dHRvbiwgc3RhdGUpXG4gICAgXSlcblxuICBhcHAgPSBBcHAoKVxuICBoZy5hcHAocm9vdCwgYXBwLCBBcHAucmVuZGVyKVxuICBhcHBcblxuZXhwb3J0cy5zdG9wID0gLT5cbiAgQnJlYWtQb2ludFBhbmUuY2xlYW51cCgpXG4gIGNhbGxzdGFja1BhbmVNb2R1bGUuY2xlYW51cCgpXG4gIENvbnNvbGVQYW5lLmNsZWFudXAoKVxuIl19
